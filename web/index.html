<!doctype html>
<html>
  <head>
    <title>Basic Functionaility</title>
  </head>
  <body>
  <h2 id=count>Count: 0 </h2>
<button type="button" id=start_btn onclick='stop_start()'>START</button>
 <p id="pText">data </p>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script>
        var socket = io();
        
        var running =false; //bad code, need to get status from server, just for testing here.
        
        socket.on('count', function(cnt){
        count.innerText='Count: ' +cnt;
        });
        
        socket.on('data', function(data){
        pText.innerText='data: ' +data;
        });
        
        function stop_start(){
          console.log('in stopstart');
          if(running){
             socket.emit('command', 'stop');
             running =false;
             document.getElementById("start_btn").innerText = "START";
          }
          else{
            socket.emit('command' , 'start');
            running = true;
            document.getElementById("start_btn").innerText = "STOP";
          }
          
        }
       
        
        console.log('test');

         // End custom data handling

    </script>
  </body>
</html>
